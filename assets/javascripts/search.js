(function(){!function(e,n){var s;return n(document).keyup(function(e){return 27===e.keyCode?n("#results").empty().css("display","none"):void 0}),n(document).click(function(){return n("#results").css("display","none")}),n(document).on("click",".result, #search input",function(e){return e.stopPropagation()}),(s=function(){var e,t,r;return t=search_config.type,e=search_config.show_type,console.log(search_config),r=[],n.getJSON("/json/"+t+".json",function(e){var n,s,t,u;for(u=[],n=0,t=e.length;t>n;n++)s=e[n],u.push(r.push(s));return u}).then(function(){var t;return n("#search input").focus(),n("#search input").focus(function(e){return n(e.target).val().length>0?t(e):void 0}),t=function(t){var u,l,a,c,i,o,p,d,f,h,g,y,v,m,O,x;if(o=!1,i=[],n("#results").empty(),O=n(t.target).val().toLowerCase(),O.length<=1)return void n("#results").css("display","none");for(n("#results").css("display","block"),m=O.split(" "),x=[],p=0,g=m.length;g>p;p++)h=m[p],v=h.split(":"),v.length>1&&v[1].length>0?(x.push(v[1]),i.push(v[0])):v[0].length>0&&("@"===v[0][0]?i.push(v[0].substr(1)):x.push(v[0]));for(a="<div class='result'>\n  <span class='title'>\n    <a href='%url'><span class='link'>%name</span> <span class='description'>%desc</span></a>\n  </span>\n</div>",c=[],f=0,y=r.length;y>f;f++)d=r[f],s="",null!=d.tags&&-1!==i.indexOf("tag")&&(s+=" "+d.tags),null!=d.lang&&-1!==i.indexOf("lang")&&(s+=" "+d.lang),null!=d.type&&-1!==i.indexOf("type")&&(s+=" "+d.type),0===s.length&&(s=d.name+" "+d.desc),s=s.toLowerCase(),-1!==i.indexOf("strict")?(O=x.join(" "),-1!==s.indexOf(O)&&-1===c.indexOf(d.uuid)&&(l=d.desc,e&&(l+=" ("+d.type+")"),u=a.replace("%url",d.url).replace("%desc",l).replace("%name",d.name),n("#results").append(n(u)),c.push(d.uuid),o=!0)):x.forEach(function(t){-1!==s.indexOf(t)&&-1===c.indexOf(d.uuid)&&(l=d.desc,e&&(l+=" ("+d.type+")"),u=a.replace("%url",d.url).replace("%desc",l).replace("%name",d.name),n("#results").append(n(u)),c.push(d.uuid),o=!0)});return o?void 0:(u=a.replace("%url","#").replace("%desc","No results found").replace("%name","No results"),n("#results").append(n(u)))},n("#search input").keyup(function(e){return t(e)})})})()}(window,jQuery)}).call(this);