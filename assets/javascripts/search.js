(function(){!function(e,n){var s;return n(document).keyup(function(e){return 27===e.keyCode?n("#results").empty().css("display","none"):void 0}),n(document).click(function(){return n("#results").css("display","none")}),n(document).on("click",".result, #search input",function(e){return e.stopPropagation()}),(s=function(){var e,t,r;return t=search_config.type,e=search_config.show_type,console.log(search_config),r=[],n.getJSON("/json/"+t+".json",function(e){var n,s,t,u;for(u=[],n=0,t=e.length;t>n;n++)s=e[n],u.push(r.push(s));return u}).then(function(){var t;return n("#search input").focus(),n("#search input").focus(function(e){return n(e.target).val().length>0?t(e):void 0}),t=function(t){var u,l,a,c,o,i,p,d,f,h,g,y,v,m,k;if(o=!1,c=[],n("#results").empty(),m=n(t.target).val().toLowerCase(),m.length<=1)return void n("#results").css("display","none");for(n("#results").css("display","block"),v=m.split(" "),k=[],i=0,h=v.length;h>i;i++)f=v[i],y=f.split(":"),y.length>1&&y[1].length>0?(k.push(y[1]),c.push(y[0])):y[0].length>0&&k.push(y[0]);for(l="<div class='result'>\n  <span class='title'>\n    <a href='%url'><span class='link'>%name</span> <span class='description'>%desc</span></a>\n  </span>\n</div>",a=[],d=0,g=r.length;g>d;d++)p=r[d],s="",null!=p.tags&&-1!==c.indexOf("tag")&&(s+=" "+p.tags),null!=p.lang&&-1!==c.indexOf("lang")&&(s+=" "+p.lang),null!=p.type&&-1!==c.indexOf("type")&&(s+=" "+p.type),0===s.length&&(s=p.name+" "+p.desc),s=s.toLowerCase(),k.forEach(function(t){var r,u;-1!==s.indexOf(t)&&-1===a.indexOf(p.uuid)&&(u=p.desc,e&&(u+=" ("+p.type+")"),r=l.replace("%url",p.url).replace("%desc",u).replace("%name",p.name),n("#results").append(n(r)),a.push(p.uuid),o=!0)});return o?void 0:(u=l.replace("%url","#").replace("%desc","No results found").replace("%name","No results"),n("#results").append(n(u)))},n("#search input").keyup(function(e){return t(e)})})})()}(window,jQuery)}).call(this);